(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d59434a0"],{"2dba":function(t,e,a){},"730d":function(t,e,a){"use strict";a("2dba")},c66d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-account-wrapper"},[s("div",{staticClass:"account-summary-wrapper account-col"},[s("div",{staticClass:"account-summary"},[s("div",{staticClass:"my-avatar"},[t.new_avatar||t.userLogin.avatar?s("img",{staticClass:"image-placeholder",attrs:{src:t.previewImage,alt:"Account Image Placeholder"}}):s("img",{staticClass:"image-placeholder",attrs:{src:a("fb22"),alt:"Account Image Placeholder"}}),s("label",{staticClass:"input-avatar"},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"}},[s("g",[s("rect",{attrs:{fill:"none",height:"24",width:"24"}})]),s("g",[s("path",{attrs:{d:"M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M7,9l1.41,1.41L11,7.83V16h2V7.83l2.59,2.58L17,9l-5-5L7,9z"}})])]),s("input",{ref:"fileInput",attrs:{type:"file",name:"avatar",accept:"image/*",id:"account-image-upload"},on:{input:t.pickFile,change:t.selectFile}}),s("span",{staticClass:"text"},[t._v("Upload your avatar")])])]),s("div",{staticClass:"fixed-info"},[s("div",{staticClass:"fixed-info-item"},[s("label",[t._v("Email")]),s("span",[t._v(t._s(t.userLogin.email))])]),s("div",{staticClass:"fixed-info-item"},[s("label",[t._v("Username")]),s("span",[t._v(t._s(t.userLogin.username))])])])])]),s("div",{staticClass:"my-account account-col"},[s("div",{staticClass:"account-info"},[s("h3",{staticClass:"account-title"},[t._v("My Information")]),s("div",{staticClass:"input-text"},[s("label",{attrs:{for:""}},[t._v("Fullname")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.full_name,expression:"full_name"}],attrs:{type:"text"},domProps:{value:t.full_name},on:{input:function(e){e.target.composing||(t.full_name=e.target.value)}}})]),s("div",{staticClass:"input-text"},[s("label",{attrs:{for:""}},[t._v("Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),s("div",{staticClass:"input-text"},[s("label",{attrs:{for:""}},[t._v("Phone")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),s("div",{staticClass:"input-text"},[s("label",{attrs:{for:""}},[t._v("Birthdate")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.birthdate,expression:"birthdate"}],attrs:{type:"text"},domProps:{value:t.birthdate},on:{input:function(e){e.target.composing||(t.birthdate=e.target.value)}}})]),s("a",{staticClass:"btn-update-info",on:{click:function(e){return t.changeInfo()}}},[t._v("Update Info")])])])])},n=[],i=a("1da1"),r=a("5530"),o=(a("96cf"),a("2f62")),l=a("d5a0"),c={components:{},data:function(){return{previewImage:"",new_avatar:"",full_name:"",address:"",phone:"",birthdate:""}},created:function(){this.start_load(),this.getImg(),this.full_name=this.userLogin.full_name,this.address=this.userLogin.address,this.phone=this.userLogin.phone,this.birthdate=this.userLogin.birthdate,this.stop_load()},computed:Object(r["a"])({},Object(o["c"])(["userLogin"])),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["setUser","start_load","stop_load"])),{},{getImg:function(){this.previewImage="https://shopfreshapi.herokuapp.com/avatar/".concat(this.userLogin.avatar)},pickFile:function(){var t=this,e=this.$refs.fileInput,a=e.files;if(a&&a[0]){var s=new FileReader;s.onload=function(e){t.previewImage=e.target.result},s.readAsDataURL(a[0]),this.$emit("input",a[0])}},selectFile:function(t){this.new_avatar=t.target.files[0]},changeInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.start_load(),console.log("Change Profile"),a=new FormData,a.append("full_name",t.full_name),a.append("address",t.address),a.append("phone",t.phone),a.append("birthdate",t.birthdate),a.append("old_avatar",t.userLogin.avatar),a.append("avatar",t.new_avatar),e.next=11,l["a"].update(t.userLogin._id,a).then((function(e){t.setUser(e.data.userUpdated).then((function(){t.stop_load(),t.$swal.fire("Success!","You have successfully updated your information","success")}))})).catch((function(e){t.stop_load(),t.$swal.fire("Uh oh!","Something went wrong. Double check your work.","error"),console.log(e.message)}));case 11:case"end":return e.stop()}}),e)})))()}})},u=c,d=(a("730d"),a("2877")),p=Object(d["a"])(u,s,n,!1,null,"44899722",null);e["default"]=p.exports},fb22:function(t,e,a){t.exports=a.p+"img/avatar-placeholder.3ebe6878.png"}}]);
//# sourceMappingURL=chunk-d59434a0.f998eae2.js.map